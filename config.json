{
   "logging":{
      "version":1,
      "disable_existing_loggers":false,
      "formatters":{
         "console":{
            "()":"logging.Formatter",
            "style":"{",
            "format":"{name:30.30} {levelname:>7} --- {message}"
         }
      },
      "handlers":{
         "console":{
            "level":"DEBUG",
            "class":"logging.StreamHandler",
            "stream":"ext://sys.stdout",
            "formatter":"console"
         }
      },
      "root":{
         "level":"INFO",
         "handlers":[
            "console"
         ]
      }
   },
   "kvmd":{
      "server":{
         "host":"localhost",
         "port":0,
         "unix":"/run/kvmd/kvmd.sock",
         "unix_rm":true,
         "unix_mode":432,
         "heartbeat":3.0,
         "sync_chunk_size":65536,
         "access_log_format":"[%P / %{X-Real-IP}i] '%r' => %s; size=%b --- referer='%{Referer}i'; user_agent='%{User-Agent}i'"
      },
      "auth":{
         "enabled":true,
         "internal":{
            "type":"htpasswd",
            "force_users":[
               
            ],
            "file":"/etc/kvmd/htpasswd"
         },
         "external":{
            "type":""
         }
      },
      "info":{
         "meta":"/etc/kvmd/meta.yaml",
         "extras":"/usr/share/kvmd/extras",
         "hw":{
            "vcgencmd_cmd":[
               "/opt/vc/bin/vcgencmd"
            ],
            "state_poll":10.0
         }
      },
      "wol":{
         "ip":"255.255.255.255",
         "port":9,
         "mac":""
      },
      "hid":{
         "type":"otg",
         "keymap":"/usr/share/kvmd/keymaps/en-us",
         "keyboard":{
            "device":"/dev/kvmd-hid-keyboard",
            "select_timeout":1.0,
            "write_retries":5,
            "write_retries_delay":0.1,
            "reopen_delay":0.5
         },
         "mouse":{
            "device":"/dev/kvmd-hid-mouse",
            "select_timeout":1.0,
            "write_retries":5,
            "write_retries_delay":0.1,
            "reopen_delay":0.5,
            "absolute":true,
            "horizontal_wheel":true
         },
         "noop":false
      },
      "atx":{
         "type":"disabled"
      },
      "msd":{
         "type":"otg",
         "storage":"/var/lib/kvmd/msd",
         "remount_cmd":[
            "/usr/bin/sudo",
            "--non-interactive",
            "/usr/bin/kvmd-helper-otgmsd-remount",
            "{mode}"
         ],
         "unlock_cmd":[
            "/usr/bin/sudo",
            "--non-interactive",
            "/usr/bin/kvmd-helper-otgmsd-unlock",
            "unlock"
         ]
      },
      "streamer":{
         "forever":false,
         "reset_delay":1.0,
         "shutdown_delay":10.0,
         "state_poll":1.0,
         "quality":0,
         "desired_fps":30,
         "max_fps":60,
         "resolution":"1920x1080",
         "available_resolutions":[
            "1920x1080",
            "1600x1200",
            "1360x768",
            "1280x1024",
            "1280x960",
            "1280x720",
            "1024x768",
            "800x600",
            "720x576",
            "720x480",
            "640x480"
         ],
         "host":"localhost",
         "port":0,
         "unix":"/run/kvmd/ustreamer.sock",
         "timeout":2.0,
         "process_name_prefix":"kvmd/streamer",
         "cmd":[
            "/usr/bin/ustreamer",
            "--device=/dev/kvmd-video",
            "--persistent",
            "--format=jpeg",
            "--resolution={resolution}",
            "--desired-fps={desired_fps}",
            "--drop-same-frames=30",
            "--last-as-blank=0",
            "--unix={unix}",
            "--unix-rm",
            "--unix-mode=0660",
            "--exit-on-parent-death",
            "--process-name-prefix={process_name_prefix}",
            "--notify-parent",
            "--no-log-colors"
         ],
         "cmd_remove":[
            
         ],
         "cmd_append":[
            
         ]
      },
      "snapshot":{
         "idle_interval":0.0,
         "live_interval":0.0,
         "wakeup_key":"",
         "wakeup_move":0,
         "online_delay":5.0,
         "retries":10,
         "retries_delay":3.0
      },
      "gpio":{
         "state_poll":0.1,
         "drivers":{
            "__gpio__":{
               "type":"gpio"
            }
         },
         "scheme":{
            
         },
         "view":{
            "header":{
               "title":"GPIO"
            },
            "table":[
               
            ]
         }
      }
   },
   "otg":{
      "vendor_id":7531,
      "product_id":260,
      "manufacturer":"Pi-KVM",
      "product":"Composite KVM Device",
      "serial":"CAFEBABE",
      "max_power":250,
      "gadget":"kvmd",
      "config":"Pi-KVM device",
      "udc":"",
      "init_delay":3.0,
      "devices":{
         "msd":{
            "user":"kvmd",
            "default":{
               "stall":false,
               "cdrom":true,
               "rw":false,
               "removable":true,
               "fua":true
            }
         },
         "serial":{
            "enabled":false
         },
         "ethernet":{
            "enabled":false,
            "driver":"ecm",
            "host_mac":"",
            "kvm_mac":""
         },
         "drives":{
            "enabled":false,
            "count":1,
            "default":{
               "stall":false,
               "cdrom":false,
               "rw":true,
               "removable":true,
               "fua":true
            }
         }
      }
   },
   "otgnet":{
      "iface":{
         "net":"169.254.0.0/28",
         "ip_cmd":[
            "/usr/bin/ip"
         ]
      },
      "firewall":{
         "allow_icmp":true,
         "allow_tcp":[
            
         ],
         "allow_udp":[
            67
         ],
         "iptables_cmd":[
            "/usr/bin/iptables"
         ]
      },
      "commands":{
         "pre_start_cmd":[
            "/bin/true",
            "pre-start"
         ],
         "post_start_cmd":[
            "/usr/bin/systemd-run",
            "--unit=kvmd-otgnet-dnsmasq",
            "/usr/bin/dnsmasq",
            "--conf-file=/dev/null",
            "--pid-file",
            "--user=dnsmasq",
            "--interface={iface}",
            "--port=0",
            "--dhcp-range={dhcp_ip_begin},{dhcp_ip_end},24h",
            "--dhcp-leasefile=/run/kvmd/dnsmasq.lease",
            "--dhcp-option=3",
            "--dhcp-option=6",
            "--keep-in-foreground"
         ],
         "pre_stop_cmd":[
            "/usr/bin/systemctl",
            "stop",
            "kvmd-otgnet-dnsmasq"
         ],
         "post_stop_cmd":[
            "/bin/true",
            "post-stop"
         ]
      }
   },
   "ipmi":{
      "server":{
         "host":"::",
         "port":623,
         "timeout":10.0
      },
      "kvmd":{
         "host":"localhost",
         "port":0,
         "unix":"/run/kvmd/kvmd.sock",
         "timeout":5.0
      },
      "auth":{
         "file":"/etc/kvmd/ipmipasswd"
      },
      "sol":{
         "device":"",
         "speed":115200,
         "select_timeout":0.1,
         "proxy_port":0
      }
   },
   "vnc":{
      "desired_fps":30,
      "keymap":"/usr/share/kvmd/keymaps/en-us",
      "server":{
         "host":"::",
         "port":5900,
         "max_clients":10,
         "no_delay":true,
         "keepalive":{
            "enabled":true,
            "idle":10,
            "interval":3,
            "count":3
         },
         "tls":{
            "ciphers":"ALL:@SECLEVEL=0",
            "timeout":5.0
         }
      },
      "kvmd":{
         "host":"localhost",
         "port":0,
         "unix":"/run/kvmd/kvmd.sock",
         "timeout":5.0
      },
      "streamer":{
         "host":"localhost",
         "port":0,
         "unix":"/run/kvmd/ustreamer.sock",
         "timeout":5.0
      },
      "auth":{
         "vncauth":{
            "enabled":false,
            "file":"/etc/kvmd/vncpasswd"
         }
      }
   }
}