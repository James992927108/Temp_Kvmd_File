[1m[32m===== step 2 - clone pi-builder =====
(B[mrm -rf ./pi-builder/generic-aarch64/stages/{pikvm,pikvm-image,pikvm-otg-console}
cp -a pikvm pikvm-image pikvm-otg-console ./pi-builder/generic-aarch64/stages
rm -rf ./pi-builder/generic-aarch64/stages/pikvm-repo/Dockerfile.part
cp pikvm-repo_Dockerfile.part ./pi-builder/generic-aarch64/stages/pikvm-repo/Dockerfile.part
rm -rf ./pi-builder/generic-aarch64/stages/pikvm-otg-console/Dockerfile.part
cp pikvm-otg-console_Dockerfile.part ./pi-builder/generic-aarch64/stages/pikvm-otg-console/Dockerfile.part
rm -rf ./pi-builder/generic-aarch64/stages/pikvm/Dockerfile.part
cp pikvm_Dockerfile.part ./pi-builder/generic-aarch64/stages/pikvm/Dockerfile.part
rm -rf ./pi-builder/generic-aarch64/Makefile
cp pi-builder_Makefile ./pi-builder/generic-aarch64/Makefile
make -C ./pi-builder/generic-aarch64 os \
	NC= \
	BUILD_OPTS='  \
		--build-arg PLATFORM=v2-hdmiusb \
		--build-arg USTREAMER_VERSION=3.12-1 \
		--build-arg KVMD_VERSION=2.14-1 \
		--build-arg KVMD_WEBTERM_VERSION=0.35-1 \
		--build-arg WIFI_ESSID=EEE_2.4G \
		--build-arg WIFI_PASSWD=987123456 \
		--build-arg WIFI_IFACE=wlan0 \
		--build-arg ROOT_PASSWD=root \
		--build-arg WEBUI_ADMIN_PASSWD=admin \
		--build-arg IPMI_ADMIN_PASSWD=admin \
		--build-arg NEW_HTTPS_CERT=e0fe73d3-d860-4b38-8b8a-5ba5dc83b4f7 \
	' \
	PROJECT=pikvm-os-v2-hdmiusb \
	BOARD=generic \
	ARCH=aarch64 \
	STAGES='__init__ os pikvm-repo ro ssh-keygen pikvm pikvm-image pikvm-otg-console __cleanup__' \
	HOSTNAME=pikvm \
	LOCALE=en_US \
	TIMEZONE=Asia/Taipei \
	REPO_URL=http://de3.mirror.archlinuxarm.org
make[1]: Entering directory '/home/aaa/Desktop/Project/pikvm/os/pi-builder/generic-aarch64'
[1m[32m===== Ensuring toolbox image =====
(B[mdocker build \
		--rm \
		--tag pi-builder-aarch64-toolbox \
		 \
		--file toolbox/Dockerfile.root \
	toolbox
Sending build context to Docker daemon  15.36kB
Step 1/6 : FROM archlinux/base
 ---> a79c9d41e4ac
Step 2/6 : RUN mkdir -p /etc/pacman.d/hooks 	&& ln -s /dev/null /etc/pacman.d/hooks/30-systemd-tmpfiles.hook
 ---> Using cache
 ---> b99724959f28
Step 3/6 : RUN pacman --noconfirm -Syu 	&& pacman --needed --noconfirm -S 		base-devel 		arp-scan 		python 		parted 		dosfstools 		rsync 	&& (pacman --noconfirm -Sc || true)
 ---> Using cache
 ---> c2014e73ae5c
Step 4/6 : RUN mkdir /tools
 ---> Using cache
 ---> 7ff9bae8a913
Step 5/6 : COPY install-binfmt /tools/
 ---> Using cache
 ---> 6ef03dda38f6
Step 6/6 : COPY docker-extract /tools/
 ---> Using cache
 ---> 34dec0e24241
Successfully built 34dec0e24241
Successfully tagged pi-builder-aarch64-toolbox:latest
[1m[32m===== Toolbox image is ready =====
(B[m[1m[32m===== Ensuring aarch64 binfmt =====
(B[mdocker run \
		--rm \
		--tty \
		--privileged \
	pi-builder-aarch64-toolbox /tools/install-binfmt \
		--mount \
		aarch64 \
		/usr/bin/qemu-aarch64-static
:: Mounting binfmt_misc to '/proc/sys/fs/binfmt_misc' ...
:: Checking AArch64 binfmt configuration ...
:: Found existent AArch64 binfmt handler
:: AArch64 binfmt handler '/usr/bin/qemu-aarch64-static' is ready
[1m[32m===== Binfmt aarch64 is ready =====
(B[m[1m[32m===== Ensuring base rootfs =====
(B[mif [ ! -e ./.tmp/base-rootfs-generic-aarch64.tar.gz ]; then \
	mkdir -p ./.tmp \
	&& curl -L -f http://de3.mirror.archlinuxarm.org/os/ArchLinuxARM-aarch64-latest.tar.gz -z ./.tmp/base-rootfs-generic-aarch64.tar.gz -o ./.tmp/base-rootfs-generic-aarch64.tar.gz \
; fi
[1m[32m===== Base rootfs is ready =====
(B[m[1m[32m===== Assembling main Dockerfile =====
(B[mrm -rf ./.build
mkdir -p ./.build
ln ./.tmp/base-rootfs-generic-aarch64.tar.gz ./.build/pikvm-os-v2-hdmiusb-pi-builder-aarch64-base-rootfs-generic.tgz
cp qemu/qemu-aarch64-static ./.build
cp -r stages ./.build
sed -i \
		-e 's|%BASE_ROOTFS_TGZ%|pikvm-os-v2-hdmiusb-pi-builder-aarch64-base-rootfs-generic.tgz|g' \
		-e 's|%QEMU_GUEST_ARCH%|aarch64|g' \
		-e 's|%QEMU_STATIC_GUEST_PATH%|/usr/bin/qemu-aarch64-static|g ' \
	./.build/stages/__init__/Dockerfile.part
echo -n > ./.build/Dockerfile
for stage in __init__ os pikvm-repo ro ssh-keygen pikvm pikvm-image pikvm-otg-console __cleanup__; do \
	cat ./.build/stages/$stage/Dockerfile.part >> ./.build/Dockerfile; \
done
[1m[32m===== Main Dockerfile is ready =====
(B[m[1m[32m===== Building OS =====
(B[mrm -f ./.builded.conf
docker build \
		--rm \
		--tag pikvm-os-v2-hdmiusb-pi-builder-aarch64-result-generic \
		 \
		 \
		--build-arg "BOARD=generic" \
		--build-arg "ARCH=aarch64" \
		--build-arg "LOCALE=en_US" \
		--build-arg "TIMEZONE=Asia/Taipei" \
		--build-arg "REPO_URL=http://de3.mirror.archlinuxarm.org" \
		--build-arg "PIKVM_REPO_URL=https://pikvm.org/repos" \
		--build-arg "PIKVM_REPO_KEY=912C773ABBD1B584" \
		--build-arg "REBUILD=b4bffd13-6d5c-48f3-a84d-57a6c6f0aa76" \
		\
	--build-arg PLATFORM=v2-hdmiusb \
	--build-arg USTREAMER_VERSION=3.12-1 \
	--build-arg KVMD_VERSION=2.14-1 \
	--build-arg KVMD_WEBTERM_VERSION=0.35-1 \
	--build-arg WIFI_ESSID=EEE_2.4G \
	--build-arg WIFI_PASSWD=987123456 \
	--build-arg WIFI_IFACE=wlan0 \
	--build-arg ROOT_PASSWD=root \
	--build-arg WEBUI_ADMIN_PASSWD=admin \
	--build-arg IPMI_ADMIN_PASSWD=admin \
	--build-arg NEW_HTTPS_CERT=e0fe73d3-d860-4b38-8b8a-5ba5dc83b4f7 \
 \
	./.build
Sending build context to Docker daemon    581MB
Step 1/101 : FROM scratch
 ---> 
Step 2/101 : ADD "pikvm-os-v2-hdmiusb-pi-builder-aarch64-base-rootfs-generic.tgz" /
 ---> Using cache
 ---> b53604ebecd5
Step 3/101 : COPY "qemu-aarch64-static" "/usr/bin/qemu-aarch64-static"
 ---> Using cache
 ---> b825ed3f4a38
Step 4/101 : RUN mkdir -p /etc/pacman.d/hooks 	&& ln -s /dev/null /etc/pacman.d/hooks/30-systemd-tmpfiles.hook
 ---> Using cache
 ---> 0790695d46a5
Step 5/101 : ARG BOARD
 ---> Using cache
 ---> d7bcb94d9546
Step 6/101 : ENV BOARD $BOARD
 ---> Using cache
 ---> 2d02ad5250fd
Step 7/101 : ARG ARCH
 ---> Using cache
 ---> ed5208e85778
Step 8/101 : ENV ARCH $ARCH
 ---> Using cache
 ---> 12a428164743
Step 9/101 : ARG LOCALE
 ---> Using cache
 ---> b275614bf42e
Step 10/101 : ENV LOCALE $LOCALE
 ---> Using cache
 ---> 163bba229c30
Step 11/101 : ARG TIMEZONE
 ---> Using cache
 ---> 88dff863ab43
Step 12/101 : ENV TIMEZONE $TIMEZONE
 ---> Using cache
 ---> 57de5256f0d7
Step 13/101 : ARG REPO_URL
 ---> Using cache
 ---> 71c880c9bb0c
Step 14/101 : ENV REPO_URL $REPO_URL
 ---> Using cache
 ---> b70f1a43d072
Step 15/101 : ARG PIKVM_REPO_URL
 ---> Using cache
 ---> 4ffdba31d4e1
Step 16/101 : ENV PIKVM_REPO_URL $PIKVM_REPO_URL
 ---> Using cache
 ---> 86dc6215f3da
Step 17/101 : ARG PIKVM_REPO_KEY
 ---> Using cache
 ---> 849c7df12327
Step 18/101 : ENV PIKVM_REPO_KEY $PIKVM_REPO_KEY
 ---> Using cache
 ---> 50e706d24f01
Step 19/101 : RUN echo "$LOCALE.UTF-8 UTF-8" > /etc/locale.gen 	&& ([ "$LOCALE" == "en_US" ] || echo "en_US.UTF-8 UTF-8" >> /etc/locale.gen) 	&& locale-gen
 ---> Using cache
 ---> 4384d6c2d4ea
Step 20/101 : ENV LC_ALL $LOCALE.UTF-8
 ---> Using cache
 ---> 953583f0bf61
Step 21/101 : RUN rm -f /etc/localtime 	&& ln -s "/usr/share/zoneinfo/$TIMEZONE" /etc/localtime
 ---> Using cache
 ---> e7021b136d33
Step 22/101 : RUN echo "HOOKS=(base udev block filesystems)" >> /etc/mkinitcpio.conf
 ---> Using cache
 ---> c892304d8d94
Step 23/101 : RUN echo "Server = $REPO_URL/\$arch/\$repo" > /etc/pacman.d/mirrorlist 	&& pacman-key --init 	&& pacman-key --populate archlinuxarm
 ---> Using cache
 ---> fb04136f6a4b
Step 24/101 : RUN sed -i -e "s/^CheckSpace/#!!!CheckSpace/g" /etc/pacman.conf
 ---> Using cache
 ---> fdc66ad670b3
Step 25/101 : RUN pacman --noconfirm -Syy 	&& pacman --needed --noconfirm -S 		glibc 		pacman 	&& pacman-db-upgrade 	&& pacman --noconfirm -Syu 	&& pacman --needed --noconfirm -S 		p11-kit 		archlinux-keyring 		ca-certificates 		ca-certificates-mozilla 		ca-certificates-utils 	&& pacman --needed --noconfirm -S 		base 		base-devel 		vim 		colordiff 		tree 		wget 		unzip 		unrar 		htop 		nmap 		iftop 		iotop 		strace 		lsof 		git 		jshon 		rng-tools 		bc 		ccache 	&& case "$ARCH" in         arm)             case "$BOARD" in                 rpi|rpi2|rpi3|zero|zerow) pacman --needed --noconfirm -S linux-raspberrypi linux-raspberrypi-headers;;                 rpi4) pacman --needed --noconfirm -S linux-raspberrypi4 linux-raspberrypi4-headers;;                 *) pacman --needed --noconfirm -S linux-armv7-headers;;             esac;;         aarch64) pacman --needed --noconfirm -S linux-aarch64-headers;;         *) echo "Unknown architecture: $ARCH"; exit 1;;     esac 	&& (pacman --noconfirm -Sc || true)
 ---> Using cache
 ---> e81f32ed84cf
Step 26/101 : RUN echo 'RNGD_OPTS="-o /dev/random -r /dev/hwrng"' > /etc/conf.d/rngd 	&& systemctl disable haveged 	&& systemctl enable rngd
 ---> Using cache
 ---> 0e1e0178ec33
Step 27/101 : COPY stages/os/semop-wrapper.c /tmp
 ---> Using cache
 ---> 1431f6d22a7a
Step 28/101 : RUN gcc -fPIC -shared -o /usr/local/lib/libpreload-semop.so /tmp/semop-wrapper.c
 ---> Using cache
 ---> 79eade73ceea
Step 29/101 : ENV LD_PRELOAD=/usr/local/lib/libpreload-semop.so
 ---> Using cache
 ---> b88a1a2c4587
Step 30/101 : RUN sed -i -e "s/^#MAKEFLAGS=.*/MAKEFLAGS=-j5/g" /etc/makepkg.conf
 ---> Using cache
 ---> 17d37236891f
Step 31/101 : RUN sed -i -e "s/ \!ccache / ccache /g" /etc/makepkg.conf
 ---> Using cache
 ---> 06dd14007d9a
Step 32/101 : ENV PATH="/usr/lib/ccache/bin/:${PATH}"
 ---> Using cache
 ---> 474139b140cd
Step 33/101 : RUN echo "DNSSEC=no" >> /etc/systemd/resolved.conf 	&& systemctl enable systemd-resolved
 ---> Using cache
 ---> e23eb7869fa2
Step 34/101 : COPY stages/os/gitconfig /etc/skel/.gitconfig
 ---> Using cache
 ---> fe631e8ddacc
Step 35/101 : COPY stages/os/gitconfig /root/.gitconfig
 ---> Using cache
 ---> f8ea0ef4418e
Step 36/101 : COPY stages/os/gitconfig /home/alarm/.gitconfig
 ---> Using cache
 ---> a1fc08690935
Step 37/101 : RUN mkdir /tmp/linux-profile 	&& git clone https://github.com/mdevaev/linux-profile.git /tmp/linux-profile --depth=1 	&& cp -a /tmp/linux-profile/{.bash_profile,.bashrc,.vimrc,.vimpagerrc,.vim} /etc/skel 	&& cp -a /tmp/linux-profile/{.bash_profile,.bashrc,.vimrc,.vimpagerrc,.vim} /root 	&& cp -a /tmp/linux-profile/{.bash_profile,.bashrc,.vimrc,.vimpagerrc,.vim} /home/alarm 	&& chown -R alarm:alarm /home/alarm/{.bash_profile,.bashrc,.vimrc,.vimpagerrc,.vim,.gitconfig} 	&& rm -rf /tmp/linux-profile
 ---> Using cache
 ---> 7f4aa743fa29
Step 38/101 : COPY stages/os/pistat /usr/local/bin/
 ---> Using cache
 ---> ecc2adaaf9a7
Step 39/101 : COPY stages/os/pkg-install /usr/local/bin/
 ---> Using cache
 ---> d3ef51c1c846
Step 40/101 : RUN ( 		pacman-key --keyserver hkps://hkps.pool.sks-keyservers.net -r $PIKVM_REPO_KEY 		|| pacman-key --keyserver keyserver.ubuntu.com -r $PIKVM_REPO_KEY 	) 	&& pacman-key --lsign-key $PIKVM_REPO_KEY 	&& echo -e "\n[pikvm]" >> /etc/pacman.conf 	&& 	case "$BOARD" in 			zero|zerow) echo "Server = $PIKVM_REPO_URL/zerow" >> /etc/pacman.conf;; 			rpi|rpi2|rpi3|rpi4) echo "Server = $PIKVM_REPO_URL/$BOARD-$ARCH" >> /etc/pacman.conf;; 			generic) echo "Server = $PIKVM_REPO_URL/rpi4-arm" >> /etc/pacman.conf;; 		esac 	&& echo "SigLevel = Required DatabaseOptional" >> /etc/pacman.conf
 ---> Using cache
 ---> 2cd0513bf7da
Step 41/101 : RUN [ ! -f /boot/cmdline.txt ] || sed -i -e "s|\<rw\>|ro|g" /boot/cmdline.txt
 ---> Using cache
 ---> 3da3dade1eef
Step 42/101 : RUN [ ! -f /boot/boot.txt ] || (         pacman --noconfirm --needed -S uboot-tools         && cd /boot         && sed -i -e "s|\<rw\>|ro|g" boot.txt         && ./mkscr     )
 ---> Using cache
 ---> 003565c4c43f
Step 43/101 : RUN mkdir -p /var/lib/private 	&& chmod 700 /var/lib/private
 ---> Using cache
 ---> eebb8f7d7281
Step 44/101 : COPY stages/ro/fstab /etc/
 ---> Using cache
 ---> 657e27fcb59b
Step 45/101 : COPY stages/ro/ro /usr/local/bin/
 ---> Using cache
 ---> 3e585adf59b5
Step 46/101 : COPY stages/ro/rw /usr/local/bin/
 ---> Using cache
 ---> bdc90f3feb9a
Step 47/101 : COPY stages/ro/journald.conf /etc/systemd/
 ---> Using cache
 ---> 43c4685cb8f4
Step 48/101 : ADD stages/ro/logrotate.override /etc/systemd/system/logrotate.service.d/override.conf
 ---> Using cache
 ---> 8c4eaa6bb821
Step 49/101 : RUN systemctl disable systemd-random-seed 	&& systemctl disable systemd-update-done 	&& systemctl mask man-db.service 	&& systemctl mask man-db.timer
 ---> Using cache
 ---> 9c3d99379cb9
Step 50/101 : ARG REBUILD
 ---> Running in c55b5382e6ef
Removing intermediate container c55b5382e6ef
 ---> 44bc9d21fd6d
Step 51/101 : ENV REBUILD $REBUILD
 ---> Running in 5e0cc7edb439
Removing intermediate container 5e0cc7edb439
 ---> de9cf89fd9a0
Step 52/101 : RUN echo $REBUILD
 ---> Running in eba74ece9222
b4bffd13-6d5c-48f3-a84d-57a6c6f0aa76
Removing intermediate container eba74ece9222
 ---> e3f3753781de
Step 53/101 : RUN ssh-keygen -A
 ---> Running in 862c6f569ac6
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
Removing intermediate container 862c6f569ac6
 ---> cc7634aa372f
Step 54/101 : ARG PLATFORM
 ---> Running in dc7b23643dae
Removing intermediate container dc7b23643dae
 ---> 5fa123bd1618
Step 55/101 : ARG USTREAMER_VERSION
 ---> Running in 6ee268a47b07
Removing intermediate container 6ee268a47b07
 ---> acc8f8605ca4
Step 56/101 : ARG KVMD_VERSION
 ---> Running in 98d3e99866a0
Removing intermediate container 98d3e99866a0
 ---> 4326c9cbe244
Step 57/101 : ARG KVMD_WEBTERM_VERSION
 ---> Running in e4f20b1b5e75
Removing intermediate container e4f20b1b5e75
 ---> b1ab9741ed9b
Step 58/101 : ENV INSTALLATION $PLATFORM $USTREAMER_VERSION $KVMD_VERSION $KVMD_WEBTERM_VERSION
 ---> Running in 098ddc17fd41
Removing intermediate container 098ddc17fd41
 ---> be95636b6cf5
Step 59/101 : RUN echo $INSTALLATION
 ---> Running in 4d483f57bfb3
v2-hdmiusb 3.12-1 2.14-1 0.35-1
Removing intermediate container 4d483f57bfb3
 ---> 981f3b8e088b
Step 60/101 : RUN pkg-install	kvmd-webterm
 ---> Running in d5aab620b028
:: Synchronizing package databases...
 core is up to date
 extra is up to date
 community is up to date
 alarm is up to date
 aur is up to date
downloading pikvm.db...
:: Starting full system upgrade...
 there is nothing to do
resolving dependencies...
looking for conflicting packages...
[91mwarning: [0m[91mdependency cycle detected:
[0m[91mwarning: harfbuzz will be installed before its freetype2 dependency
[0m
Packages (87) avrdude-svn-20201019.1450-1  confuse-3.3-3  dhclient-4.4.2-2  dnsmasq-2.83-1  freetype2-2.10.4-1  geoip-1.6.12-2  geoip-database-20201222-1  graphite-1:1.3.14-1  harfbuzz-2.7.4-1  hicolor-icon-theme-0.17-2  hidapi-0.10.1-1  inetutils-1.9.4-8  kvmd-2.14-1  lcms2-2.11-2  libbsd-0.10.0-2  libev-4.33-1  libevent-2.1.12-1  libftdi-1.5-1  libgpiod-1.6.2-1  libimagequant-2.13.1-1  libjpeg-turbo-2.0.6-1  libpng-1.6.37-3  libtiff-4.1.0-2  libusb-compat-0.1.7-1  libuv-1.40.0-1  libwebsockets-4.1.6-1  libxau-1.0.9-3  libxcb-1.14-1  libxdmcp-1.1.3-3  libyaml-0.2.5-1  mailcap-2.1.49-1  nginx-mainline-1.19.6-2  openjpeg2-2.4.0-1  platformio-5.0.3-1  python-aiofiles-0.6.0-3  python-aiohttp-3.7.3-1  python-appdirs-1.4.4-3  python-asn1crypto-1.4.0-3  python-async-timeout-3.0.1-5  python-attrs-20.3.0-3  python-bottle-0.12.19-2  python-cffi-1.14.4-1  python-chardet-3.0.4-7  python-click-7.1.2-3  python-colorama-0.4.4-3  python-cryptography-3.3.1-1  python-dateutil-2.8.1-5  python-dbus-1.2.16-3  python-dbus-common-1.2.16-3  python-hidapi-0.10.1-1  python-idna-2.10-3  python-marshmallow-3.10.0-1  python-multidict-5.1.0-1  python-ordered-set-4.0.2-3  python-packaging-20.8-2  python-pam-1.8.4-5  python-passlib-1.7.4-3  python-pillow-8.1.0-1  python-ply-3.11-7  python-psutil-5.8.0-1  python-pycparser-2.20-3  python-pyelftools-0.27-1  python-pyghmi-1.5.19-1  python-pygments-2.7.4-1  python-pyparsing-2.4.7-3  python-pyserial-3.5-1  python-requests-2.25.1-1  python-semantic-version-2.8.5-3  python-setproctitle-1.2.1-1  python-setuptools-1:51.3.3-1  python-six-1.15.0-3  python-spidev-3.5-2  python-systemd-234-7  python-tabulate-0.8.7-3  python-typing_extensions-3.7.4.3-3  python-urllib3-1.26.2-1  python-xlib-0.29-1  python-yaml-5.3.1-4  python-yarl-1.6.3-1  raspberrypi-firmware-20210121-1  raspberrypi-io-access-0.5-1  run-parts-4.8.6.1-2  ttyd-1.6.1.100-1  ustreamer-3.12-1  v4l-utils-1.20.0-1  xcb-proto-1.14.1-3  kvmd-webterm-0.35-1

Total Download Size:    23.09 MiB
Total Installed Size:  113.20 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
downloading libevent-2.1.12-1-aarch64.pkg.tar.xz...
downloading run-parts-4.8.6.1-2-aarch64.pkg.tar.xz...
downloading inetutils-1.9.4-8-aarch64.pkg.tar.xz...
downloading libyaml-0.2.5-1-aarch64.pkg.tar.xz...
downloading python-appdirs-1.4.4-3-any.pkg.tar.xz...
downloading python-pyparsing-2.4.7-3-any.pkg.tar.xz...
downloading python-six-1.15.0-3-any.pkg.tar.xz...
downloading python-packaging-20.8-2-any.pkg.tar.xz...
downloading python-ordered-set-4.0.2-3-any.pkg.tar.xz...
downloading python-setuptools-1:51.3.3-1-any.pkg.tar.xz...
downloading python-chardet-3.0.4-7-any.pkg.tar.xz...
downloading python-idna-2.10-3-any.pkg.tar.xz...
downloading python-attrs-20.3.0-3-any.pkg.tar.xz...
downloading python-systemd-234-7-aarch64.pkg.tar.xz...
downloading python-dbus-common-1.2.16-3-aarch64.pkg.tar.xz...
downloading python-dbus-1.2.16-3-aarch64.pkg.tar.xz...
downloading python-ply-3.11-7-any.pkg.tar.xz...
downloading python-pycparser-2.20-3-any.pkg.tar.xz...
downloading python-cffi-1.14.4-1-aarch64.pkg.tar.xz...
downloading python-asn1crypto-1.4.0-3-any.pkg.tar.xz...
downloading python-cryptography-3.3.1-1-aarch64.pkg.tar.xz...
downloading libjpeg-turbo-2.0.6-1-aarch64.pkg.tar.xz...
downloading libtiff-4.1.0-2-aarch64.pkg.tar.xz...
downloading lcms2-2.11-2-aarch64.pkg.tar.xz...
downloading libpng-1.6.37-3-aarch64.pkg.tar.xz...
downloading openjpeg2-2.4.0-1-aarch64.pkg.tar.xz...
downloading xcb-proto-1.14.1-3-any.pkg.tar.xz...
downloading libxdmcp-1.1.3-3-aarch64.pkg.tar.xz...
downloading libxau-1.0.9-3-aarch64.pkg.tar.xz...
downloading libxcb-1.14-1-aarch64.pkg.tar.xz...
downloading graphite-1:1.3.14-1-aarch64.pkg.tar.xz...
downloading harfbuzz-2.7.4-1-aarch64.pkg.tar.xz...
downloading freetype2-2.10.4-1-aarch64.pkg.tar.xz...
downloading hicolor-icon-theme-0.17-2-any.pkg.tar.xz...
downloading v4l-utils-1.20.0-1-aarch64.pkg.tar.xz...
downloading geoip-database-20201222-1-any.pkg.tar.xz...
downloading geoip-1.6.12-2-aarch64.pkg.tar.xz...
downloading mailcap-2.1.49-1-any.pkg.tar.xz...
downloading python-urllib3-1.26.2-1-any.pkg.tar.xz...
downloading python-requests-2.25.1-1-any.pkg.tar.xz...
downloading python-pyelftools-0.27-1-any.pkg.tar.xz...
downloading libusb-compat-0.1.7-1-aarch64.pkg.tar.xz...
downloading dnsmasq-2.83-1-aarch64.pkg.tar.xz...
downloading libbsd-0.10.0-2-aarch64.pkg.tar.xz...
downloading dhclient-4.4.2-2-aarch64.pkg.tar.xz...
downloading libuv-1.40.0-1-aarch64.pkg.tar.xz...
downloading python-yaml-5.3.1-4-aarch64.pkg.tar.xz...
downloading python-multidict-5.1.0-1-aarch64.pkg.tar.xz...
downloading python-async-timeout-3.0.1-5-any.pkg.tar.xz...
downloading python-typing_extensions-3.7.4.3-3-any.pkg.tar.xz...
downloading python-yarl-1.6.3-1-aarch64.pkg.tar.xz...
downloading python-aiohttp-3.7.3-1-aarch64.pkg.tar.xz...
downloading python-aiofiles-0.6.0-3-any.pkg.tar.xz...
downloading python-passlib-1.7.4-3-any.pkg.tar.xz...
downloading python-pyserial-3.5-1-any.pkg.tar.xz...
downloading python-setproctitle-1.2.1-1-aarch64.pkg.tar.xz...
downloading python-psutil-5.8.0-1-aarch64.pkg.tar.xz...
downloading python-pygments-2.7.4-1-any.pkg.tar.xz...
downloading python-dateutil-2.8.1-5-any.pkg.tar.xz...
downloading python-pam-1.8.4-5-any.pkg.tar.xz...
downloading libimagequant-2.13.1-1-aarch64.pkg.tar.xz...
downloading python-pillow-8.1.0-1-aarch64.pkg.tar.xz...
downloading python-xlib-0.29-1-any.pkg.tar.xz...
downloading hidapi-0.10.1-1-aarch64.pkg.tar.xz...
downloading python-hidapi-0.10.1-1-aarch64.pkg.tar.xz...
downloading nginx-mainline-1.19.6-2-aarch64.pkg.tar.xz...
downloading python-bottle-0.12.19-2-any.pkg.tar.xz...
downloading python-click-7.1.2-3-any.pkg.tar.xz...
downloading python-colorama-0.4.4-3-any.pkg.tar.xz...
downloading python-semantic-version-2.8.5-3-any.pkg.tar.xz...
downloading python-tabulate-0.8.7-3-any.pkg.tar.xz...
downloading python-marshmallow-3.10.0-1-any.pkg.tar.xz...
downloading confuse-3.3-3-aarch64.pkg.tar.xz...
downloading libftdi-1.5-1-aarch64.pkg.tar.xz...
downloading libev-4.33-1-aarch64.pkg.tar.xz...
downloading libwebsockets-4.1.6-1-aarch64.pkg.tar.xz...
downloading raspberrypi-firmware-20210121-1-aarch64.pkg.tar.xz...
downloading python-spidev-3.5-2-any.pkg.tar.xz...
downloading python-pyghmi-1.5.19-1-any.pkg.tar.xz...
downloading libgpiod-1.6.2-1-armv7h.pkg.tar.xz...
downloading platformio-5.0.3-1-any.pkg.tar.xz...
downloading avrdude-svn-20201019.1450-1-armv7h.pkg.tar.xz...
downloading raspberrypi-io-access-0.5-1-any.pkg.tar.xz...
downloading ustreamer-3.12-1-armv7h.pkg.tar.xz...
downloading kvmd-2.14-1-any.pkg.tar.xz...
downloading ttyd-1.6.1.100-1-armv7h.pkg.tar.xz...
downloading kvmd-webterm-0.35-1-any.pkg.tar.xz...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
:: Processing package changes...
installing libyaml...
installing python-yaml...
installing python-appdirs...
installing python-pyparsing...
installing python-six...
installing python-packaging...
installing python-ordered-set...
installing python-setuptools...
installing python-chardet...
installing python-multidict...
installing python-async-timeout...
installing python-idna...
installing python-typing_extensions...
installing python-yarl...
installing python-attrs...
installing python-aiohttp...
Optional dependencies for python-aiohttp
    gunicorn: to deploy using Gunicorn
    python-aiodns: for fast DNS resolving
    python-cchardet: for faster encoding detection
    python-brotlipy: for Brotli transfer-encodings support
installing python-aiofiles...
installing python-passlib...
Optional dependencies for python-passlib
    python-fastpbkdf2: accelerate PBKDF2-based hashes
    python-bcrypt: accelerate Bcrypt hashes
    python-scrypt: accelerate SCrypt hashes
installing python-pyserial...
installing python-spidev...
installing python-setproctitle...
installing python-psutil...
installing python-systemd...
installing python-dbus-common...
installing python-dbus...
installing python-pygments...
installing python-ply...
installing python-pycparser...
installing python-cffi...
installing python-asn1crypto...
installing python-cryptography...
installing python-dateutil...
installing python-pyghmi...
installing python-pam...
installing libjpeg-turbo...
installing libtiff...
Optional dependencies for libtiff
    freeglut: for using tiffgt
installing lcms2...
installing libpng...
installing openjpeg2...
installing libimagequant...
installing xcb-proto...
installing libxdmcp...
installing libxau...
installing libxcb...
installing python-pillow...
Optional dependencies for python-pillow
    freetype2: for the ImageFont module [pending]
    libraqm: for complex text scripts
    libwebp: for webp images
    tk: for the ImageTK module
    python-olefile: OLE2 file support
    python-pyqt5: for the ImageQt module
installing python-xlib...
installing hidapi...
Optional dependencies for hidapi
    libusb: for the libusb backend -- hidapi-libusb.so [installed]
    libudev.so: for the hidraw backend -- hidapi-hidraw.so [installed]
installing python-hidapi...
installing libgpiod...
installing graphite...
installing harfbuzz...
Optional dependencies for harfbuzz
    cairo: hb-view program
installing freetype2...
installing hicolor-icon-theme...
installing v4l-utils...
Optional dependencies for v4l-utils
    qt5-base: for qv4l2
    alsa-lib: for qv4l2
installing geoip-database...
installing geoip...
Optional dependencies for geoip
    geoip-database-extra: city/ASN databases (not needed for country lookups)
installing mailcap...
installing nginx-mainline...
installing python-bottle...
installing python-click...
installing python-colorama...
installing python-urllib3...
Optional dependencies for python-urllib3
    python-pysocks: SOCKS support
    python-brotli: Brotli support
    python-pyopenssl: security support
installing python-requests...
Optional dependencies for python-requests
    python-pysocks: SOCKS proxy support
installing python-semantic-version...
installing python-tabulate...
Optional dependencies for python-tabulate
    python-numpy: NumPy array support
    python-pandas: pandas.DataFrame support
    python-wcwidth: wide-character support
installing python-pyelftools...
installing python-marshmallow...
installing platformio...
installing confuse...
installing libftdi...
Optional dependencies for libftdi
    python: library bindings [installed]
installing libusb-compat...
installing avrdude-svn...
installing dnsmasq...
installing raspberrypi-io-access...
==> Ensuring IO groups ...
Creating group spi with gid 975.
Creating group gpio with gid 974.
installing raspberrypi-firmware...
installing libevent...
Optional dependencies for libevent
    python: to use event_rpcgen.py [installed]
installing libbsd...
installing ustreamer...
installing run-parts...
installing dhclient...
installing kvmd...
==> Ensuring KVMD users and groups ...
Creating group kvmd with gid 973.
Creating group kvmd-ipmi with gid 972.
Creating group kvmd-vnc with gid 971.
Creating group kvmd-nginx with gid 970.
Creating user kvmd (Pi-KVM - The main daemon) with uid 973 and gid 973.
Creating user kvmd-ipmi (Pi-KVM - IPMI to KVMD proxy) with uid 972 and gid 972.
Creating user kvmd-vnc (Pi-KVM - VNC to KVMD/Streamer proxy) with uid 971 and gid 971.
Creating user kvmd-nginx (Pi-KVM - HTTP entrypoint) with uid 970 and gid 970.
==> Patching configs ...
==> Generating KVMD certificate ...
+ export LC_ALL=C
+ LC_ALL=C
+ mkdir -p /etc/kvmd/nginx/ssl
+ cd /etc/kvmd/nginx/ssl
+ openssl ecparam -out server.key -name prime256v1 -genkey
+ openssl req -new -x509 -sha256 -nodes -key server.key -out server.crt -days 3650 -subj /C=RU/ST=Moscow/L=Moscow/O=Pi-KVM/OU=Pi-KVM/CN=localhost
+ chown -R root:kvmd-nginx /etc/kvmd/nginx/ssl
+ chmod 400 server.key
+ chmod 444 server.crt
+ chmod 750 /etc/kvmd/nginx/ssl
installing libuv...
installing libev...
installing libwebsockets...
installing ttyd...
installing inetutils...
installing kvmd-webterm...
==> Ensuring KVMD-Webterm users and groups ...
Creating group kvmd-webterm with gid 969.
Creating user kvmd-webterm (Pi-KVM - Web terminal) with uid 969 and gid 969.
:: Running post-transaction hooks...
(1/6) Creating system user accounts...
Creating group dnsmasq with gid 968.
Creating user dnsmasq (dnsmasq daemon) with uid 968 and gid 968.
(2/6) Reloading system manager configuration...
  Skipped: Current root is not booted.
(3/6) Reloading device manager configuration...
  Skipped: Device manager is not running.
(4/6) Arming ConditionNeedsUpdate...
(5/6) Reloading system bus configuration...
  Skipped: Current root is not booted.
(6/6) Updating the info directory file...
Packages to keep:
  All locally installed packages

Cache directory: /var/cache/pacman/pkg/
:: Do you want to remove all other packages from cache? [Y/n] 
removing old packages from cache...

Database directory: /var/lib/pacman/
:: Do you want to remove unused repositories? [Y/n] 
removing unused sync repositories...
Removing intermediate container d5aab620b028
 ---> bc88425381bf
Step 61/101 : RUN pkg-install	netctl
 ---> Running in dd651c29cebd
:: Synchronizing package databases...
 core is up to date
 extra is up to date
 community is up to date
 alarm is up to date
 aur is up to date
 pikvm is up to date
:: Starting full system upgrade...
 there is nothing to do
[91mwarning: [0m[91mnetctl-1.24-1 is up to date -- skipping
[0m there is nothing to do
Packages to keep:
  All locally installed packages

Cache directory: /var/cache/pacman/pkg/
:: Do you want to remove all other packages from cache? [Y/n] 
removing old packages from cache...

Database directory: /var/lib/pacman/
:: Do you want to remove unused repositories? [Y/n] 
removing unused sync repositories...
Removing intermediate container dd651c29cebd
 ---> 2b43a1a419c3
Step 62/101 : RUN pkg-install	parted
 ---> Running in 4156a1574d1b
:: Synchronizing package databases...
 core is up to date
 extra is up to date
 community is up to date
 alarm is up to date
 aur is up to date
 pikvm is up to date
:: Starting full system upgrade...
 there is nothing to do
resolving dependencies...
looking for conflicting packages...

Packages (1) parted-3.3-2

Total Download Size:   0.47 MiB
Total Installed Size:  2.29 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
downloading parted-3.3-2-aarch64.pkg.tar.xz...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
:: Processing package changes...
installing parted...
:: Running post-transaction hooks...
(1/2) Arming ConditionNeedsUpdate...
(2/2) Updating the info directory file...
Packages to keep:
  All locally installed packages

Cache directory: /var/cache/pacman/pkg/
:: Do you want to remove all other packages from cache? [Y/n] 
removing old packages from cache...

Database directory: /var/lib/pacman/
:: Do you want to remove unused repositories? [Y/n] 
removing unused sync repositories...
Removing intermediate container 4156a1574d1b
 ---> 74846e63733d
Step 63/101 : RUN pkg-install e2fsprogs
 ---> Running in 732de7a772fb
:: Synchronizing package databases...
 core is up to date
 extra is up to date
 community is up to date
 alarm is up to date
 aur is up to date
 pikvm is up to date
:: Starting full system upgrade...
 there is nothing to do
[91mwarning: [0m[91me2fsprogs-1.45.6-3 is up to date -- skipping
[0m there is nothing to do
Packages to keep:
  All locally installed packages

Cache directory: /var/cache/pacman/pkg/
:: Do you want to remove all other packages from cache? [Y/n] 
removing old packages from cache...

Database directory: /var/lib/pacman/
:: Do you want to remove unused repositories? [Y/n] 
removing unused sync repositories...
Removing intermediate container 732de7a772fb
 ---> 48639ff9fdfc
Step 64/101 : RUN pacman --noconfirm --needed -S raspberrypi-firmware=20210112-2
 ---> Running in acf59fc9fd58
[91mwarning: [0m[91mdowngrading package raspberrypi-firmware (20210121-1 => 20210112-2)
[0m[91merror: failed to prepare transaction (package architecture is not valid)
[0m:: package raspberrypi-firmware-20210112-2-armv7h does not have a valid architecture
The command '/bin/sh -c pacman --noconfirm --needed -S raspberrypi-firmware=20210112-2' returned a non-zero code: 1
make[1]: *** [Makefile:231: os] Error 1
make[1]: Leaving directory '/home/aaa/Desktop/Project/pikvm/os/pi-builder/generic-aarch64'
make: *** [Makefile:80: os] Error 2
